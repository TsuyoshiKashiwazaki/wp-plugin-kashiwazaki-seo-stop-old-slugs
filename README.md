# 🚀 Kashiwazaki SEO Old Slug Manager

[![WordPress](https://img.shields.io/badge/WordPress-5.0%2B-blue.svg)](https://wordpress.org/)
[![PHP](https://img.shields.io/badge/PHP-7.4%2B-purple.svg)](https://php.net/)
[![License](https://img.shields.io/badge/License-GPL--2.0--or--later-green.svg)](https://www.gnu.org/licenses/gpl-2.0.html)
[![Version](https://img.shields.io/badge/Version-1.0.0-orange.svg)](https://github.com/TsuyoshiKashiwazaki/wp-plugin-kashiwazaki-seo-stop-old-slugs/releases)

WordPressの旧スラッグ（_wp_old_slug）を効率的に管理するための包括的なプラグインです。管理画面から旧スラッグと現在のスラッグの編集・削除、リダイレクト停止設定を一元管理できます。

> 🎯 **SEO対策とURL管理の完全ソリューション - 旧スラッグのリダイレクトを完全制御**

## 主な機能

### 📊 スラッグ管理機能
- **旧スラッグ一覧表示**: データベース内の全ての旧スラッグを一覧表示
- **個別編集機能**: 各スラッグを個別に編集・保存
- **現在のスラッグ編集**: 投稿の現在のスラッグも同時に管理
- **一括削除機能**: 不要な旧スラッグの安全な削除

### 🔄 リダイレクト制御
- **リダイレクト停止**: 特定の旧スラッグのリダイレクトを無効化
- **チェックボックス制御**: 簡単なUI操作でリダイレクト設定を変更
- **一括設定保存**: 複数の設定を一度に保存

### 🔗 連携分析機能
- **チェーン分析**: 旧スラッグから現在のスラッグへの連携関係を自動分析
- **最終着地点表示**: リダイレクトチェーンの最終的な着地点を★マークで表示
- **ナビゲーション機能**: →ボタンクリックで連携先へ自動スクロール
- **視覚的フィードバック**: ハイライト効果で操作結果を明確に表示

### ⚙️ 高度な機能
- **ソート機能**: 投稿ID、スラッグ名、更新日時での並び替え
- **検索・フィルタ**: 大量のデータから目的のスラッグを素早く特定
- **安全な編集**: meta_IDベースの精密な編集で他データへの影響を防止
- **自動更新日設定**: スラッグ編集時に投稿の最終更新日を自動更新

## 🚀 クイックスタート

### インストール
1. プラグインファイルを `/wp-content/plugins/kashiwazaki-seo-stop-old-slugs/` にアップロード
2. WordPress管理画面でプラグインを有効化
3. 管理画面メニューから「Kashiwazaki SEO Old Slug Manager」にアクセス

### 基本的な使用方法
1. **スラッグ編集**: テキスト横の「編集」ボタンをクリックして個別編集
2. **リダイレクト停止**: 先頭列のチェックボックスで制御
3. **連携確認**: →マークをクリックして連携先にジャンプ
4. **保存**: 個別保存または一括保存を選択

## 使い方

### 旧スラッグの編集
1. 管理画面で編集したい旧スラッグの「編集」ボタンをクリック
2. テキストフィールドに新しいスラッグを入力
3. 「保存」ボタンで即座に更新

### 現在のスラッグの編集
1. 現在のスラッグ列の「編集」ボタンをクリック
2. 新しいスラッグを入力して保存
3. 投稿の最終更新日も自動的に更新

### リダイレクト停止設定
1. 停止したいスラッグの先頭チェックボックスをチェック
2. 「設定を一括保存」ボタンで適用
3. チェックした旧スラッグのリダイレクトが無効化

### 連携分析の活用
- **★マーク**: 最終着地点となるスラッグ
- **→マーク**: クリックで連携先にスクロール
- **デバッグ情報**: 詳細な連携関係を確認可能

## 技術仕様

### システム要件
- **WordPress**: 5.0以上
- **PHP**: 7.4以上
- **MySQL**: 5.6以上
- **メモリ**: 128MB以上

### データベース操作
- 旧スラッグデータ: `wp_postmeta` テーブルの `_wp_old_slug` メタキー
- 安全な更新: meta_IDベースの精密更新
- トランザクション処理: データ整合性の保証

### セキュリティ機能
- **Nonce検証**: 全ての操作でCSRF攻撃を防止
- **権限チェック**: `manage_options` 権限必須
- **入力サニタイズ**: 全ての入力データを適切にサニタイズ
- **SQLインジェクション防止**: prepared statementの使用

## 更新履歴

### [1.0.0] - 2025-09-10
- 初回リリース
- 旧スラッグ管理機能の実装
- リダイレクト制御機能の追加
- 連携分析とナビゲーション機能
- 個別編集モードの実装

## ライセンス

GPL-2.0-or-later

## サポート・開発者

**開発者**: 柏崎剛 (Tsuyoshi Kashiwazaki)  
**ウェブサイト**: https://www.tsuyoshikashiwazaki.jp/  
**サポート**: プラグインに関するご質問や不具合報告は、開発者ウェブサイトまでお問い合わせください。

## 🤝 貢献

このプラグインの改善にご協力いただける場合は、以下の方法でご参加ください：

1. **Issue報告**: バグや改善提案をGitHub Issuesで報告
2. **機能提案**: 新機能のアイデアや改善案を共有
3. **コードレビュー**: プルリクエストのレビューにご協力
4. **ドキュメント改善**: 使用方法やセットアップガイドの改善

## 📞 サポート

### よくある質問
- **Q**: 旧スラッグが見つからない場合は？
- **A**: WordPressが自動生成する旧スラッグのみが対象です

- **Q**: リダイレクト停止は即座に反映される？
- **A**: はい、設定保存後すぐに有効になります

- **Q**: 他のプラグインとの競合は？
- **A**: 標準的なWordPress APIを使用しているため、競合は minimal です

### トラブルシューティング
1. **編集が反映されない**: ブラウザキャッシュをクリア
2. **権限エラー**: 管理者権限でログインを確認
3. **表示が崩れる**: 他のプラグインとの相互作用を確認

---

<div align="center">

**🔍 Keywords**: WordPress, SEO, スラッグ管理, リダイレクト制御, URL管理, 旧スラッグ, パーマリンク

Made with ❤️ by [Tsuyoshi Kashiwazaki](https://github.com/TsuyoshiKashiwazaki)

</div>